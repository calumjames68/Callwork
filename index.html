<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HHS Call Navigator - Manager's Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-inactive { opacity: 0.3; pointer-events: none; filter: grayscale(1); }
        .step-active { opacity: 1; border-left: 4px solid #7c3aed; filter: none; }
        .glow { box-shadow: 0 0 20px rgba(124, 58, 237, 0.4); }
        .scenario-btn-active { background-color: #7c3aed !important; border-color: #a78bfa !important; color: white !important; }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen font-sans selection:bg-purple-500/30">

    <!-- Header / Stats -->
    <header class="bg-slate-900 p-4 border-b border-slate-800 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-3">
                <div class="bg-purple-600 p-2 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-white leading-none">HHS Navigator Pro</h1>
                    <p class="text-[10px] text-purple-400 mt-1 uppercase tracking-widest font-bold">Target: 50% Rec Rate</p>
                </div>
            </div>
            
            <div class="flex items-center gap-4">
                <button onclick="resetFlow()" class="text-xs bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-xl transition-all border border-slate-700">
                    Reset Call üîÑ
                </button>
                <button onclick="logTransfer()" class="bg-purple-600 hover:bg-purple-500 text-white px-5 py-2 rounded-xl text-sm font-bold transition-all shadow-lg shadow-purple-900/20 active:scale-95">
                    Log Transfer üéØ
                </button>
            </div>
        </div>
    </header>

    <!-- Eligibility Toggle -->
    <div class="bg-slate-900/50 border-b border-slate-800">
        <div class="max-w-4xl mx-auto px-4 py-2 flex justify-between items-center">
            <span class="text-xs font-medium text-slate-400 italic">Is this an HHS-eligible call?</span>
            <div class="flex bg-slate-800 rounded-lg p-1">
                <button onclick="toggleEligibility(true)" id="btn-eligible" class="px-3 py-1 text-[10px] font-bold rounded-md bg-purple-600 text-white transition-all">ELIGIBLE</button>
                <button onclick="toggleEligibility(false)" id="btn-ineligible" class="px-3 py-1 text-[10px] font-bold rounded-md text-slate-400 transition-all">NOT ELIGIBLE</button>
            </div>
        </div>
    </div>

    <main id="main-content" class="max-w-4xl mx-auto p-4 pb-24">
        
        <div id="workflow" class="space-y-4">
            
            <!-- STEP 1: START OF CALL -->
            <section id="step-1" class="bg-slate-900 p-5 rounded-2xl border border-slate-800 step-active glow transition-all duration-300">
                <div class="flex items-start gap-4">
                    <div class="bg-purple-600/20 text-purple-400 w-10 h-10 rounded-xl flex items-center justify-center font-black flex-shrink-0 border border-purple-500/20">1</div>
                    <div class="flex-1">
                        <div class="flex justify-between items-center mb-1">
                            <h2 class="text-lg font-bold">The PIN Pivot</h2>
                            <span class="text-[10px] bg-slate-800 px-2 py-0.5 rounded text-slate-400 uppercase font-bold tracking-tighter">Validation Phase</span>
                        </div>
                        <p class="text-slate-400 text-xs mb-4">Identify the mobile provider early. Note if they mention BT.</p>
                        <div class="bg-slate-950 p-4 rounded-xl border border-slate-800 italic text-slate-200 text-sm leading-relaxed relative">
                            <span class="absolute -top-2 left-4 bg-slate-900 px-2 text-[10px] font-bold text-purple-500">OTP SCRIPT</span>
                            "While that PIN is coming through... <span class="text-purple-400 font-bold">By the way, who is your mobile provider at the moment?</span>"
                        </div>
                        <div class="mt-4 flex flex-wrap items-center gap-3">
                            <input type="text" id="provider-input" placeholder="e.g. O2, BT, Sky..." class="bg-slate-950 border border-slate-800 rounded-lg px-3 py-1.5 text-xs focus:outline-none focus:border-purple-500 transition-all">
                            <div class="flex items-center gap-2">
                                <input type="checkbox" id="is-bt" class="w-4 h-4 rounded bg-slate-800 border-slate-700 text-purple-600">
                                <label for="is-bt" class="text-[10px] text-slate-400 font-bold uppercase">Customer with BT</label>
                            </div>
                            <button onclick="nextStep(1)" class="bg-slate-800 hover:bg-slate-700 px-4 py-1.5 rounded-lg text-xs font-bold transition-colors">Start Discovery</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- STEP 2: HOUSEHOLD DISCOVERY -->
            <section id="step-2" class="bg-slate-900 p-5 rounded-2xl border border-slate-800 step-inactive transition-all duration-300">
                <div class="flex items-start gap-4">
                    <div class="bg-purple-600/20 text-purple-400 w-10 h-10 rounded-xl flex items-center justify-center font-black flex-shrink-0 border border-purple-500/20">2</div>
                    <div class="flex-1">
                        <h2 class="text-lg font-bold mb-1">Household Discovery</h2>
                        <p class="text-slate-400 text-xs mb-4">Lead with open questions about their home setup.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                            <div class="bg-slate-950 p-3 rounded-xl border border-slate-800">
                                <p class="text-[10px] text-purple-500 font-black uppercase mb-1">Who?</p>
                                <p class="text-sm italic">"Who mainly uses the broadband at home? Is it just you or the whole family?"</p>
                            </div>
                            <div class="bg-slate-950 p-3 rounded-xl border border-slate-800">
                                <p class="text-[10px] text-purple-500 font-black uppercase mb-1">What?</p>
                                <p class="text-sm italic">"What are you mainly using the Wi-Fi for? Streaming, gaming, or working from home?"</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-3 bg-slate-950 p-3 rounded-xl border border-slate-800 mb-4">
                             <input type="number" id="mobile-count" placeholder="0" class="w-12 bg-slate-900 border border-slate-700 rounded p-1 text-xs text-center">
                             <span class="text-xs text-slate-400">Total mobiles in household? (Target for transfer)</span>
                        </div>
                        
                        <button onclick="nextStep(2)" class="bg-slate-800 hover:bg-slate-700 px-4 py-1.5 rounded-lg text-xs font-bold transition-colors">Usage Mapped</button>
                    </div>
                </div>
            </section>

            <!-- STEP 3: UNDERSTANDING SERVICES -->
            <section id="step-3" class="bg-slate-900 p-5 rounded-2xl border border-slate-800 step-inactive transition-all duration-300">
                <div class="flex items-start gap-4">
                    <div class="bg-purple-600/20 text-purple-400 w-10 h-10 rounded-xl flex items-center justify-center font-black flex-shrink-0 border border-purple-500/20">3</div>
                    <div class="flex-1">
                        <h2 class="text-lg font-bold mb-1">Service Deep-Dive</h2>
                        <p class="text-slate-400 text-xs mb-2">Identify the "pain point" while resolving the technical query.</p>
                        
                        <div class="space-y-2 mb-4">
                            <p class="text-[10px] text-slate-500 uppercase font-black tracking-widest">Listen/Ask for:</p>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="selectScenario('wfh', this)" class="scenario-btn bg-slate-950 border border-slate-800 p-2 rounded-lg text-[10px] text-left hover:border-purple-500">Difficult WFH</button>
                                <button onclick="selectScenario('signal', this)" class="scenario-btn bg-slate-950 border border-slate-800 p-2 rounded-lg text-[10px] text-left hover:border-purple-500">Poor Signal/Connection</button>
                                <button onclick="selectScenario('no-data', this)" class="scenario-btn bg-slate-950 border border-slate-800 p-2 rounded-lg text-[10px] text-left hover:border-purple-500">Limited/No Data</button>
                                <button onclick="selectScenario('not-ee', this)" class="scenario-btn bg-slate-950 border border-slate-800 p-2 rounded-lg text-[10px] text-left hover:border-purple-500">Not with New EE</button>
                                <button onclick="selectScenario('already-ee', this)" class="scenario-btn bg-slate-950 border border-slate-800 p-2 rounded-lg text-[10px] text-left hover:border-purple-500">Already with EE (Family)</button>
                                <button onclick="selectScenario('generic', this)" class="scenario-btn bg-slate-950 border border-slate-800 p-2 rounded-lg text-[10px] text-left hover:border-purple-500">General/No Pain Point</button>
                            </div>
                        </div>
                        
                        <div class="bg-green-900/10 p-3 rounded-xl border border-green-500/20 mb-4">
                            <p class="text-[10px] text-green-500 font-black uppercase mb-1">Manager Note</p>
                            <p class="text-[11px] text-slate-300">Resolve the primary issue first, then link back to these details.</p>
                        </div>
                        
                        <button onclick="nextStep(3)" id="move-to-offer" class="bg-slate-800 hover:bg-slate-700 px-4 py-1.5 rounded-lg text-xs font-bold transition-colors opacity-50 pointer-events-none">Problem Resolved? Go to Offer</button>
                    </div>
                </div>
            </section>

            <!-- STEP 4: TAILORED OFFER -->
            <section id="step-4" class="bg-slate-900 p-5 rounded-2xl border border-slate-800 step-inactive transition-all duration-300">
                <div class="flex items-start gap-4">
                    <div class="bg-purple-600/20 text-purple-400 w-10 h-10 rounded-xl flex items-center justify-center font-black flex-shrink-0 border border-purple-500/20">4</div>
                    <div class="flex-1">
                        <h2 class="text-lg font-bold mb-1">End of Call: Tailored Script</h2>
                        <p class="text-slate-400 text-xs mb-4">Link back to the details from Step 2 & 3.</p>
                        
                        <div class="bg-purple-900/10 p-5 rounded-2xl border border-purple-900/40 mb-4 shadow-inner relative">
                            <span class="absolute -top-2 left-4 bg-slate-900 px-2 text-[10px] font-bold text-green-400 uppercase">OFFER SCRIPT</span>
                            <p id="final-script" class="text-sm italic text-purple-100 leading-relaxed">Select a scenario in Step 3...</p>
                        </div>

                        <div id="bt-migration-alert" class="hidden bg-blue-900/20 p-3 rounded-xl border border-blue-500/30 mb-4">
                             <p class="text-[10px] text-blue-400 font-black uppercase">BT Loyalty Bonus</p>
                             <p class="text-[11px] text-slate-300 italic">"Because you're moving your broadband over from BT to the New EE, you unlock this exclusive ¬£12 rate."</p>
                        </div>
                        
                        <button onclick="nextStep(4)" class="bg-slate-800 hover:bg-slate-700 px-4 py-1.5 rounded-lg text-xs font-bold transition-colors">Interest? Secure Transfer</button>
                    </div>
                </div>
            </section>

            <!-- STEP 5: TRANSFER -->
            <section id="step-5" class="bg-slate-900 p-5 rounded-2xl border border-slate-800 step-inactive transition-all duration-300">
                <div class="flex items-start gap-4">
                    <div class="bg-purple-600/20 text-purple-400 w-10 h-10 rounded-xl flex items-center justify-center font-black flex-shrink-0 border border-purple-500/20">5</div>
                    <div class="flex-1">
                        <h2 class="text-lg font-bold mb-1">Transfer & Pause</h2>
                        <p class="text-slate-400 text-xs mb-4">Don't decide for them. Use the silent pause.</p>
                        
                        <div class="bg-slate-950 p-4 rounded-xl border border-slate-800 italic text-slate-200 text-sm leading-relaxed mb-4">
                            "If this is something you‚Äôre interested in, I‚Äôll get you through to an expert who can go into a bit more detail. Please bear with me for a couple of minutes."
                        </div>

                        <div class="flex flex-col items-center p-4 bg-slate-950 rounded-2xl border border-purple-500/20 mb-4">
                            <p class="text-[10px] text-red-400 font-black uppercase tracking-[0.2em] mb-2">The Golden Silence</p>
                            <div class="w-full bg-slate-900 h-1 rounded-full overflow-hidden">
                                <div id="pause-timer" class="h-full bg-purple-500 w-0"></div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <button onclick="copyExample()" class="text-[10px] text-purple-400 hover:text-purple-300 font-bold uppercase tracking-wider flex items-center gap-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                                </svg>
                                Log HHS Success
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

    </main>

    <div id="ineligible-view" class="hidden fixed inset-0 bg-slate-950/90 backdrop-blur-sm z-[100] flex items-center justify-center p-6 text-center">
        <div class="max-w-md">
            <h2 class="text-2xl font-black text-white mb-2">Focus on the Fix üõ†Ô∏è</h2>
            <p class="text-slate-400 mb-6 text-sm">Not HHS eligible. Just provide great service and resolve the issue.</p>
            <button onclick="toggleEligibility(true)" class="bg-slate-800 hover:bg-slate-700 text-white px-8 py-3 rounded-2xl font-bold transition-all">Back to Navigator</button>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let timerInterval;
        let selectedScenarioKey = '';

        const scripts = {
            'not-ee': "‚ÄúGreat news! Because you‚Äôre moving across to New EE for your broadband, you have access to an exclusive mobile offer. We can offer you unlimited calls, texts, and data on the best 5G network for the last 12 years, from just ¬£12 per month.‚Äù",
            'signal': "‚ÄúYou mentioned earlier that you‚Äôve been having issues with your connection. Because you‚Äôre moving your broadband to New EE, we have an exclusive offer where we can connect you to the best 5G network with unlimited calls, texts, and data from just ¬£12 per month.‚Äù",
            'no-data': "‚ÄúYou mentioned earlier that you don‚Äôt currently have a connection. As you‚Äôre switching your broadband to New EE, I can offer you an exclusive SIM‚Äëonly deal with unlimited calls, texts, and data from just ¬£12 per month.‚Äù",
            'already-ee': "‚ÄúYou mentioned that you‚Äôre already taking advantage of our exclusive EE mobile offer. The great news is we can extend that same deal to the rest of your family ‚Äî unlimited calls, texts, and data from just ¬£12 per month.‚Äù",
            'wfh': "‚ÄúYou mentioned earlier that working from home has been difficult. Because you‚Äôre coming across to New EE for broadband, we have an exclusive offer where we can upgrade you to the best 5G network to support working from home, with unlimited calls, texts, and data from just ¬£12 per month.‚Äù",
            'generic': "‚ÄúNow that I‚Äôve resolved everything for you today, I do have an exclusive offer available. We can provide unlimited calls, texts, and data on the best 5G network from just ¬£12 per month.‚Äù"
        };

        function selectScenario(key, btn) {
            selectedScenarioKey = key;
            document.querySelectorAll('.scenario-btn').forEach(b => b.classList.remove('scenario-btn-active'));
            btn.classList.add('scenario-btn-active');
            
            let scriptText = scripts[key];
            const isBT = document.getElementById('is-bt').checked;
            
            // If they are with BT, modify the script slightly to mention the move
            if (isBT && key !== 'already-ee') {
                scriptText = scriptText.replace("moving across to New EE", "moving your broadband over from BT to the New EE");
                document.getElementById('bt-migration-alert').classList.remove('hidden');
            } else {
                document.getElementById('bt-migration-alert').classList.add('hidden');
            }
            
            document.getElementById('final-script').innerText = scriptText;
            document.getElementById('move-to-offer').classList.remove('opacity-50', 'pointer-events-none');
            document.getElementById('move-to-offer').classList.add('bg-purple-600', 'text-white');
        }

        function toggleEligibility(isEligible) {
            const main = document.getElementById('main-content');
            const ineligible = document.getElementById('ineligible-view');
            const btnE = document.getElementById('btn-eligible');
            const btnI = document.getElementById('btn-ineligible');

            if (isEligible) {
                main.classList.remove('opacity-20', 'pointer-events-none');
                ineligible.classList.add('hidden');
                btnE.classList.add('bg-purple-600', 'text-white');
                btnE.classList.remove('text-slate-400');
                btnI.classList.remove('bg-purple-600', 'text-white');
                btnI.classList.add('text-slate-400');
            } else {
                main.classList.add('opacity-20', 'pointer-events-none');
                ineligible.classList.remove('hidden');
                btnI.classList.add('bg-purple-600', 'text-white');
                btnI.classList.remove('text-slate-400');
                btnE.classList.remove('bg-purple-600', 'text-white');
                btnE.classList.add('text-slate-400');
            }
        }

        function nextStep(step) {
            if (step < 5) {
                document.getElementById(`step-${step}`).classList.remove('step-active', 'glow');
                document.getElementById(`step-${step}`).classList.add('step-inactive');
                
                currentStep = step + 1;
                const next = document.getElementById(`step-${currentStep}`);
                next.classList.remove('step-inactive');
                next.classList.add('step-active', 'glow');
                next.scrollIntoView({ behavior: 'smooth', block: 'center' });

                if (currentStep === 5) {
                    startPauseTimer();
                }
            }
        }

        function startPauseTimer() {
            let width = 0;
            const bar = document.getElementById('pause-timer');
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(timerInterval);
                } else {
                    width += 1;
                    bar.style.width = width + '%';
                }
            }, 30);
        }

        function resetFlow() {
            clearInterval(timerInterval);
            document.getElementById('pause-timer').style.width = '0%';
            selectedScenarioKey = '';
            document.getElementById('final-script').innerText = "Select a scenario in Step 3...";
            document.getElementById('move-to-offer').classList.add('opacity-50', 'pointer-events-none');
            document.getElementById('move-to-offer').classList.remove('bg-purple-600', 'text-white');
            document.querySelectorAll('.scenario-btn').forEach(b => b.classList.remove('scenario-btn-active'));
            document.getElementById('provider-input').value = '';
            document.getElementById('mobile-count').value = '';
            document.getElementById('is-bt').checked = false;
            document.getElementById('bt-migration-alert').classList.add('hidden');
            
            for (let i = 1; i <= 5; i++) {
                const s = document.getElementById(`step-${i}`);
                s.classList.add('step-inactive');
                s.classList.remove('step-active', 'glow');
            }
            const first = document.getElementById('step-1');
            first.classList.remove('step-inactive');
            first.classList.add('step-active', 'glow');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function logTransfer() {
            const toast = document.createElement('div');
            toast.className = "fixed bottom-8 left-1/2 -translate-x-1/2 bg-purple-600 text-white px-8 py-4 rounded-2xl font-black shadow-2xl z-[200] animate-bounce border-2 border-white/20";
            toast.innerText = "TRANSFER LOGGED! üéØ";
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function copyExample() {
            const provider = document.getElementById('provider-input').value || "Unknown";
            const scriptUsed = scripts[selectedScenarioKey] || "General Offer";
            const mobiles = document.getElementById('mobile-count').value || "1";
            const exampleText = `HHS Recommendation Example:\n1. Provider (OTP Phase): ${provider}\n2. Household Discovery: ${mobiles} mobiles in home.\n3. Scenario Identified: ${selectedScenarioKey}\n4. Script Used: ${scriptUsed}\n5. Result: Specialist transfer secured.`;
            
            const el = document.createElement('textarea');
            el.value = exampleText;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            
            const btn = event.currentTarget;
            btn.innerText = "EXAMPLE COPIED!";
            setTimeout(() => btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" /></svg> Log HHS Success', 2000);
        }
    </script>
</body>
</html>
